---
solution: Campaign Classic
product: campaign
title: 檔案傳輸
description: 進一步瞭解檔案傳輸工作流程活動
audience: workflow
content-type: reference
topic-tags: event-activities
translation-type: tm+mt
source-git-commit: 972885c3a38bcd3a260574bacbb3f507e11ae05b
workflow-type: tm+mt
source-wordcount: '540'
ht-degree: 1%

---


# 檔案傳輸{#file-transfer}

**檔案傳輸**活動可讓您接收或傳送檔案、測試檔案是否存在，或列出伺服器上的檔案。 使用的通訊協定為Amazon Simple Storage Service(S3)、FTP或SFTP。
有了S3或SFTP連線，您也可以使用Adobe即時客戶資料平台，將區段資料匯入Adobe Campaign。 有關詳細資訊，請參閱[文檔](https://docs.adobe.com/content/help/en/experience-platform/rtcdp/destinations/destinations-cat/adobe-destinations/adobe-campaign-destination.html)。

>[!NOTE]
>
>有關SFTP伺服器使用情況的最佳實踐和故障排除，請參見本頁[。](../../platform/using/sftp-server-usage.md)

## 屬性 {#properties}

使用&#x200B;**[!UICONTROL Action]**&#x200B;欄位的下拉式清單來選取活動的動作。

![](assets/file_transfert_action.png)

配置取決於所選的操作。

1. **接收檔案**

   要接收儲存在遠程伺服器上的檔案，請在&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選擇&#x200B;**[!UICONTROL File download]**。 您必須在相關欄位中指定其URL。

   ![](assets/file_transfert_edit.png)

   選中&#x200B;**[!UICONTROL Use an external account]**&#x200B;以從樹的&#x200B;**[!UICONTROL Administration > Platform > External accounts]**&#x200B;節點中配置的S3、FTP或SFTP帳戶中選擇帳戶。 然後指定伺服器上包含要下載的檔案的目錄。

   ![](assets/file_transfert_edit_external.png)

1. **檔案傳輸**

   要向伺服器發送檔案，請在&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選擇&#x200B;**[!UICONTROL File upload]**。 您必須在編輯器的&#x200B;**[!UICONTROL Remote server]**&#x200B;區段中指定目標伺服器。 參數與傳入檔案的參數相同。 請參閱上文。

   來源檔案可來自先前的活動。 在這種情況下，必須選擇&#x200B;**[!UICONTROL Use the file generated by the previous activity]**&#x200B;選項。

   ![](assets/file_transfert_edit_send.png)

   這也可能涉及一個或多個其他檔案。 要選擇它們，請取消選中該選項，然後按一下&#x200B;**[!UICONTROL Insert]**。 指定要傳送之檔案的存取路徑。 要添加另一個檔案，請再次按一下&#x200B;**[!UICONTROL Insert]**。 現在，每個檔案都有自己的頁籤。

   ![](assets/file_transfert_source.png)

   使用箭頭可變更標籤順序。 這與檔案傳送至伺服器的順序有關。

   **[!UICONTROL Keep history of files sent]**&#x200B;選項可讓您追蹤傳送的檔案。 此歷史記錄可從目錄訪問。

1. **測試以查看檔案是否存在**

   要測試檔案是否存在，請在&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選擇&#x200B;**[!UICONTROL Test to see if file exists]**&#x200B;選項。 遠程伺服器的配置與檔案下載的配置相同。 如需詳細資訊，請參閱此[章節](#properties)。

   ![](assets/file_transfert_edit_test.png)

1. **檔案清單**

   要列出檔案，請從&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選擇&#x200B;**[!UICONTROL File listing]**&#x200B;選項。 遠程伺服器的配置與接收檔案的配置相同。 如需詳細資訊，請參閱此[章節](#properties)。

   選擇&#x200B;**[!UICONTROL File listing]**&#x200B;動作時可使用的&#x200B;**[!UICONTROL List all files]**&#x200B;選項，可讓您在事件變數&#x200B;**vars.filenames**&#x200B;中儲存伺服器上顯示的所有檔案，其中檔案名稱由`\n`字元分隔。

所有檔案傳輸選項有兩種可能的選項：

* **[!UICONTROL Process missing file]**&#x200B;選項添加一個過渡，如果在指定目錄中未找到檔案，則激活該過渡。
* **[!UICONTROL Process errors]**&#x200B;選項在[處理錯誤](../../workflow/using/monitoring-workflow-execution.md#processing-errors)中有詳細說明。

**[!UICONTROL Advanced parameters...]**&#x200B;連結可讓您存取下列選項：

![](assets/file_transfert_advanced.png)

* **[!UICONTROL Delete the source files after transfer]**

   清除遠程伺服器上的檔案。

* **[!UICONTROL Use SSL]**

   允許您在檔案傳輸期間通過SSL協定使用安全連接。

* **[!UICONTROL Display the session logs]**

   可讓您恢復S3、FTP或SFTP傳輸的記錄檔，並將其包含在工作流程記錄檔中。

* **[!UICONTROL Disable passive mode]**

   允許您指定用於資料傳輸的連接埠。

**[!UICONTROL File historization settings...]**&#x200B;連結可存取[Web下載](../../workflow/using/web-download.md)（**[!UICONTROL File historization]**&#x200B;步驟）中詳細說明的選項。

## 輸入參數{#input-parameters}

* 檔案名

   已傳送檔案的完整名稱。

## 輸出參數{#output-parameters}

* 檔案名

   如果選擇了&#x200B;**[!UICONTROL Use the file generated by the previous activity]**&#x200B;選項，則完整接收檔案的名稱。
